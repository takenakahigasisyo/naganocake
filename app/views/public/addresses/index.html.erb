<% if customer_signed_in? %>
  <!--<li>-->
  <!--  < %= link_to user_path(current_user),class: 'nav-link text-light' do %>-->
  <!--    <i class="fas fa-home"></i> Home-->
  <!--  < % end %>-->
  <!--</li>-->
  <!--<li>-->
  <!--  < %=  link_to users_path,class: 'nav-link text-light' do %>-->
  <!--    <i class="fas fa-users"></i> Users-->
  <!--  < % end %>-->
  <!--</li>-->
  <!--<li>-->
  <!--  < %=  link_to books_path ,class: 'nav-link text-light' do %>-->
  <!--    <i class="fas fa-book-open"></i> Books-->
  <!--  < % end %>-->
  <!--</li>-->
  <li>
    <%= link_to destroy_customer_session_path, method: :delete,class: 'nav-link' do %>
      <i class="fas fa-sign-out-alt"></i> Log out
    <% end %>
  </li>
<% else %>
  <li>
    <%= link_to root_path,class: 'nav-link' do %>
      <i class="fas fa-home"></i> Home
    <% end %>
  </li>
  <!--<li>-->
  <!--  < %= link_to home_about_path,class: 'nav-link text-light' do %>-->
  <!--    <i class="fas fa-link"></i> About-->
  <!--  < % end %>-->
  <!--</li>-->
  <!--<li>-->
  <!--  < %= link_to new_user_registration_path,class: 'nav-link text-light' do %>-->
  <!--    <i class="fas fa-user-plus"></i> Sign up-->
  <!--  < % end %>-->
  <!--</li>-->
  <li>
    <%= link_to new_customer_session_path ,class: 'nav-link' do %>
      <i class="fas fa-sign-in-alt"></i> Log in
    <% end %>
  </li>
<% end %>

<div class="container">

  <h2>配送先登録/一覧</h2>
  
  <% if @address.errors.any? %>
    <strong><%= @address.errors.count %>errors prohibited this book from being saved:</strong>
    <ul>
      <% @address.errors.full_messages.each do |message| %>
        <li><%= message %></li><br>
      <% end%>
    </ul>
  <% end %>
  
  <%= form_with model: @address, url: '/addresses', method: :post do |f| %>
  <div class="form-group">
    <label>郵便番号(ハイフンなし)</label>
    <%= f.text_field :postcode, class: "form-control" %>
  </div>
  <div class="form-group">
    <label>住所</label>
    <%= f.text_field :address, class: "form-control" %>
  </div>
  <div class="form-group">
    <label>宛名</label>
    <%= f.text_field :name, class: "form-control" %>
  </div>
    <%= f.submit '新規登録', class: "btn btn-success" %>
  <% end %>
  
  <br>
  <table class="table table-bordered">
    <tr>
      <th>郵便番号</th>
      <th>住所</th>
      <th>宛名</th>
      <th colspan="1"></th>
    </tr>
    <% @addresses.each do |address| %>
    <tr>
      <td><%= address.postcode %></td>
      <td><%= address.address %></td>
      <td><%= address.name %></td>
      <td>
        <%= link_to '編集する', edit_address_path(address.id), class: "btn btn-sm btn-success" %>
        <%= link_to '削除する', address_path(address.id), method: :delete, data: { confirm: '本当に消しますか？' }, class: "btn btn-sm btn-danger"%>
      </td>
    </tr>
    <% end %>
  </table>

</div>